{% extends 'base.html' %}
{% block container %}
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<script src="{{ url_for('static', filename='js/explore.js') }}"></script>

<div class="nav-container">
    <div class="search_container">
        <form action="{{url_for('search_posts')}}" method="get">
            <input type="text" placeholder="Search..." name="search">
            <button type="submit"><i class="material-icons">search</i></button>
        </form>
    </div>

    <div class="filter_menu">
        <button id="filterButton">Filter</button>
        <ul class="filter_contents">
            <li><a href="{{ url_for('home') }}">All</a></li>
            <li><a href="{{ url_for('filter_posts', tag='digital_art') }}">Digital Art</a></li>
            <li><a href="{{ url_for('filter_posts', tag='photography') }}">Photography</a></li>
            <li><a href="{{ url_for('filter_posts', tag='visual_art') }}">Visual Art</a></li>            
        </ul>
    </div>
</div>


<!-- Main section which shows all the posts in the database-->
<section>
    {% if artworks %}
        {% for artwork in artworks %}
        <div class="postContainer">
            <div class="topContainer">
                <div class="artistContainer">
                    <img src="{{ artwork.profile_picture if artwork.profile_picture else url_for('static', filename='images/avatar.png') }}">
                    <span>{{artwork.username}}</span>
                </div>

                <div class="statsContainer">
                    <button name="saveButton" class="statsButton"><i class="material-icons">bookmark</i></button>
                    <button name="likeButton" class="statsButton"><i class="material-icons">thumb_up</i></button>
                    <span style="text-align: center;" class="like-count">{{artwork.likes}}</span>
                </div>
            </div>

            <div class="artContainer">
                <img src="{{artwork.image_url}}">
            </div>

            <div class="detailsContainer">
                <div class="topDetailsContainer">
                    <div id="post_title">{{ artwork.post_title }}</div>
                    <div id="art_type">{{ artwork.art_type|replace("_", " ")|title() }}</div>  
                </div>
                <div id="post_description">{{ artwork.post_description }}</div>
            </div>
        </div>
        {% endfor %}

    <!-- If there are no images in the database or images under a specific tag, then it will display this -->
    {% else %}
        <p style="display:flex; justify-content: center; align-items: center;">Currently no artworks posted!</p>
    {% endif %}
</section>
{% endblock %}
